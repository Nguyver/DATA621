---
title: "Simulation-Solar Panel"
author: "Sreejaya, Suman, Vuthy"
date: "December 11, 2016"
output: pdf_document
---

Solar energy has the greatest potential of all the sources of renewable energy. If only a small amount of this
form of energy could be used, it will be one of the most important supplies of energy.

```{r}
library(triangle)
```
 Average sunlight received in 2015 in NYC. Data contain  average, minimum, and maximum sunlight recived.

*Initial Readings-*
```{r}
#Monthly Avg Hours sunlight - NYC
#http://rredc.nrel.gov/solar/old_data/nsrdb/1961-1990/redbook/sum2/94728.txt
monthlyavg <- c(3.2, 4.0, 4.8, 5.2, 5.4, 5.5, 5.6, 5.5, 5.0, 4.4, 3.2, 2.8)
monthlymin <- c(2.5, 3.2, 3.9, 4.4, 4.5, 4.5, 4.8, 4.9, 4.3, 3.7, 2.4, 1.9)
monthlymax <- c(4.0, 5.2, 5.7, 6.0, 6.1, 6.2, 6.1, 6.1, 5.8, 5.6, 4.1, 3.4)
monthdays <- c(31,28,31,30,31,30,31,31,30,31,30,31)


#https://rocscience.com/help/roctopple/webhelp/roctopple/Triangular_Distribution.htm
monthlyMode <- 3*monthlyavg-monthlymin-monthlymax
```


```{r}
#Appliance Consumption
#http://energy.gov/energysaver/estimating-appliance-and-home-electronic-energy-use

#Average NY Electricity Use
#http://www.eia.gov/electricity/sales_revenue_price/xls/table5_a.xlsx
```

Average monthly usage of electric power in a 2000 sq feet house in NY

```{r}
replication <- 100
panel.size <- 25
```

### Power Generated
There are losses in converting the energy from the sun into DC power, and turning the DC power into AC power. This ratio of AC to DC is called the 'derate factor', and is typically about .8.


```{r}
#Simulation Starts here
power <- data.frame()

for(run in 1:replication) 
{
  #https://understandsolar.com/calculating-kilowatt-hours-solar-panels-produce/
  panel.kwh <- rtriangle(365,.25,.27,.26)
  
  dayssunlight <- vector()
  for (i in 1:length(monthdays))
  {
    dayssunlight <- c(dayssunlight,(rtriangle(monthdays[i],monthlymin[i],monthlymax[i],monthlyMode[i])))
  }
  
  #80% Derate Factor
  power.gen <-(dayssunlight*panel.size*panel.kwh)*.8
}

```
So the power generated by 25 panels with maximum capacity of .27watts can generate '''{r}power.gen'''kilowatts

### Power Consumed
```{r}
monthlyusage <- c(491,409,78,616,198,1321,1849,1265,512,312,310,491)
averageuse <- monthlyusage/monthdays

for(run in 1:replication) 
{
  rnd.daily <- vector()
  for (i in 1:length(monthdays))
  {
    rnd.daily <- c(rnd.daily,(rnorm(monthdays[i],averageuse[i])))
  }
  
 # run.gen <- t(as.data.frame(power.gen))
  #run.data <- cbind(run,'Generate',run.gen)
  
  #run.consume <- t(as.data.frame(rnd.daily))
  #run.data2 <- cbind(run,'Consume',run.consume)
  
  #power <- rbind(power, run.data)
  #power <- rbind(power, run.data2)
}


power <- data.frame(rnd.daily,power.gen)
colnames(power) <- c("Power.consume", "power.gen")
head(power)

```

The average cost per watt in the U.S. is $3.57 per watt.

Cost of solar panel
6kW solar energy system cost: $15,000
8kW solar energy system cost: $20,000
10kW solar energy system cost: $25,000

How many panels need to be installed to efficiently satisfy an average US energy need?

Initial cost ?
Life expectency of the panel?







